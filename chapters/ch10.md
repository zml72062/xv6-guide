# 10. 内核态中断处理

本章和接下来的一章研究 xv6 中最有趣的主题之一: **内核态和用户态的切换**. 回忆一下, xv6 内核工作在 **S 模式**, 而用户进程工作在 **U 模式**. 而在 RISC-V 中, 导致处理器特权模式从 U (低级别) 切换到 S (高级别) 的唯一机制是 **中断**. 因此, 不难得出以下论断:
* 从用户态进入内核态, 意味着发生了 **中断**
* 从内核态回到用户态, 意味着 **中断返回**

> 第 3 章中讨论的时钟中断是一个特例. 甚至不能在 S 模式中处理时钟中断, 而必须进入 M 模式.

即使在内核态, 中断也有可能发生. 在本章中, 我们首先讨论 **内核态中发生中断** 该怎么处理. 

